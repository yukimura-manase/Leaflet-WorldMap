<html style="height: 100%; margin: 0;">
<head>
    <title>Leaflet</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./node_modules/leaflet/dist/leaflet.css" />
    <script src="./node_modules/leaflet/dist/leaflet.js"></script>
</head>

<body style="height: 100%; margin: 0; overflow: hidden;">
    <div id="map" style="height: 100%; width: 100%;"></div>
</body>

<script>

    // Markerã®Iconã‚’ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ç”»åƒã«å¤‰ãˆã‚‹æ–¹æ³•

    const map = L.map('map',{
        worldCopyJump: true, // ä¸–ç•Œåœ°å›³ã‚’ç§»å‹•ã—ã¦ã‚‚MarkerãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹
    })
    .setView([51.5, -0.09], 3);


    L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/english/{z}/{x}/{y}.png',
    {
        attribution: 'Map data <a href="https://maps.gsi.go.jp/development/ichiran.html" target="_blank">å›½åœŸåœ°ç†é™¢</a>',
        minZoom:2,
        maxZoom: 6,    
    }).addTo(map);


    // 1. Original-Icon-Instance
    const robotamaIcon = L.icon({
        iconUrl: ['./robotama-icon.png'], // ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
        iconSize: [80, 50]  // ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚º
    });

    // [ è¡¨ç¤ºã•ã›ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¤‰æ›´ã—ãŸã„å ´åˆ ]

        // iconUrl: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
        // iconRetinaUrl: ãƒ¢ãƒã‚¤ãƒ«ç”¨ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
        // iconSize: ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚µã‚¤ã‚º
        // iconAnchor: ç”»åƒã®ã‚ªãƒ•ã‚»ãƒƒãƒˆä½ç½®
        // popupAnchor: ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®è¡¨ç¤ºä½ç½®

    // 2. Marker-Instance ã« Original-Icon-Instance ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ï¼
    L.marker(
        [51.5, -0.09], 
        { icon: robotamaIcon }  // ã“ã“ã§ã€Originalã‚¢ã‚¤ã‚³ãƒ³ã‚’Setã™ã‚‹ğŸ”¥
        )
    .addTo(map)
    .bindPopup('ãƒ­ãƒœç‰ä¸‡æ­³ï¼ï¼ï¼.<br> ç¥è–ã‚°ãƒ³ãƒãƒ¼å¸å›½ã€ä¸‡æ­³ï¼ï¼.');

    L.marker([38.9, -77.01], {icon: robotamaIcon}).addTo(map).bindPopup('ã‚¢ãƒ¡ãƒªã‚«åˆè¡†å›½-Robotama');


    // openPopup() ã‚’ã™ã‚‹ã¨ã€Clickã—ãªãã¦ã‚‚ PopupãŒå‡ºç¾ã—ãŸçŠ¶æ…‹(Open-çŠ¶æ…‹)ã«ãªã‚‹ï¼ => 1ã¤ã ã‘
    L.marker([35.68, 139.69], {icon: robotamaIcon}).addTo(map).bindPopup('æ—¥æœ¬-Robotama').openPopup();

    L.marker([-41.289, 174.7], {icon: robotamaIcon}).addTo(map).bindPopup('ãƒ‹ãƒ¥ãƒ¼ã‚¸ãƒ¼ãƒ©ãƒ³ãƒ‰-Robotama');


    // [ å‚è€ƒãƒ»å¼•ç”¨ ]
    // ã€JavaScriptã€‘LeafLetã®ãƒãƒ¼ã‚«ãƒ¼ã‚’ä»»æ„ã®ç”»åƒã«å¤‰æ›ã™ã‚‹æ–¹æ³• => https://cpoint-lab.co.jp/article/201905/9485/

    // Leaflet #010 â€“ ãƒãƒ¼ã‚«ãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¤‰æ›´ => https://day-journal.com/memo/leaflet-010/

</script>
</html>